<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/clean-code/blog/rss.xml" title="Clean Code Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/clean-code/blog/atom.xml" title="Clean Code Blog Atom Feed"><title data-react-helmet="true">8장 경계 | Clean Code</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://scope-team.github.io/clean-code/docs/chapter_8"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="8장 경계 | Clean Code"><meta data-react-helmet="true" name="description" content="시스템에 들어가는 모든 코드를 직접 개발하는 경우는 없다."><meta data-react-helmet="true" property="og:description" content="시스템에 들어가는 모든 코드를 직접 개발하는 경우는 없다."><link data-react-helmet="true" rel="shortcut icon" href="/clean-code/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://scope-team.github.io/clean-code/docs/chapter_8"><link data-react-helmet="true" rel="alternate" href="https://scope-team.github.io/clean-code/docs/chapter_8" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://scope-team.github.io/clean-code/docs/chapter_8" hreflang="x-default"><link rel="stylesheet" href="/clean-code/assets/css/styles.32843e3b.css">
<link rel="preload" href="/clean-code/assets/js/runtime~main.fb70392d.js" as="script">
<link rel="preload" href="/clean-code/assets/js/main.a23e5f92.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/clean-code/"><img src="/clean-code/img/scope_logo_765.png" alt="scope" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/clean-code/img/scope_logo_765.png" alt="scope" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">클린코드</b></a><a class="navbar__item navbar__link navbar__link--active" href="/clean-code/docs/chapter_1">📕 클린코드 완독하기 프로젝트</a><a class="navbar__item navbar__link" href="/clean-code/blog">👨‍👩‍👧‍👦 참여자</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/scope-team/clean-code" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>⛳️ GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/clean-code/docs/chapter_1">1장 깨끗한 코드</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/clean-code/docs/chapter_2">2장 의미 있는 이름</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/clean-code/docs/chapter_3">3장 함수</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/clean-code/docs/chapter_4">4장 주석</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/clean-code/docs/chapter_5">5장 형식 맞추기</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/clean-code/docs/chapter_6">6장 객체와 자료 구조</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/clean-code/docs/chapter_7">7장 오류 처리</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/clean-code/docs/chapter_8">8장 경계</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/clean-code/docs/chapter_9">9장 단위 테스트</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/clean-code/docs/chapter_10">10장 클래스</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/clean-code/docs/chapter_11">11장 시스템</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/clean-code/docs/chapter_12">12장 창발성</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/clean-code/docs/chapter_13">13장 동시성</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/clean-code/docs/chapter_14">14장 점진적인 개선</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>8장 경계</h1></header><section><span class="title_3C96">written by</span><div class="authors_333f"><div class="author_2o5L"><a href="https://github.com/positiveko" target="_blank" rel="noopener noreferrer" class="avatar__link_21Yn"><img src="https://github.com/positiveko.png" alt="positiveko" class="avatar__photo_25CI"></a><div class="avatar__info_seck"><span class="bold_19F6">positiveko  🏆</span><span>Front End Engineer</span></div></div></div></section><p>시스템에 들어가는 모든 코드를 직접 개발하는 경우는 없다.
때로는 패키지나 오픈 소스를 활용한다. 혹은 다른 팀이 제공하는 컴포넌트를 사용하기도 한다.
이 장에서는 소프트웨어 경계를 깔끔하게 처리하는 기법을 살펴본다.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="외부-코드-사용하기"></a>외부 코드 사용하기<a class="hash-link" href="#외부-코드-사용하기" title="Direct link to heading">#</a></h2><p>제공자는 적용성을 최대한 넓히려 애쓰고 사용자는 자신의 환경에 집중하는 인터페이스를 바란다.
이러한 이유로 시스템 경계에서 문제가 생길 소지가 많다.</p><p>예를 들어 <code>Map</code>의 경우 다양한 인터페이스로 수많은 기능을 제공한다.
Map이 제공하는 다양한 기능성과 유연성을 유용하지만 그만큼 위험도 크다.
<code>Map.clear()</code> 메서드로 <code>Map</code> 사용자라면 누구나 내용을 지울 권한이 생기기 때문이다.
또 <code>Map</code>은 객체 유형을 제한하지 않기 때문에 사용자는 어떤 객체 유형이라도 추가할 수 있다.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Map sensors = new HashMap()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Sensor s = (Sensor)sensors.get(setsorId);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>이 경우 아래와 같이 작성하면 코드 가독성이 높아진다.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Map&lt;String, Sensor&gt; sensors = new HashMap&lt;sensor&gt;();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Sensor s = sensors.get(sensorId);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>하지만 위의 경우에도 <code>Map&lt;String, Sensor&gt;</code>가 사용자에게 필요하지 않는 기능까지 제공하는 문제를 해결할 순 없다.
다음은 <code>Map</code>을 좀 더 깔끔하게 사용한 코드다.
Sensors 사용자는 제네릭이 사용되었는지 여부를 신경 쓸 필요가 없다. 제네릭의 사용 여부는 Sensors 안에서 결정한다.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">public class Sensors {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  private Map sensors = new HashMap();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  public Sensor getById(String, id) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return (Sensor) sensors.get(id);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>경계 인터페이스인 <code>Map</code>을 Sensors 안으로 숨긴다. 따라서 <code>Map</code> 인터페이스가 변하더라도
나머지 프로그램에는 영향을 미치지 않는다. Sensors 클래스 안에서 객체 유형을 관리하기 때문이다.</p><p><code>Map</code> 클래스를 사용할 때마다 위와 같이 캡슐화하라는 건 아니다. <code>Map</code>과 같은
경계 인터페이스를 클래스나 클래스 계열 밖으로 노출되지 않도록 주의한다.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="경계-살피고-익히기"></a>경계 살피고 익히기<a class="hash-link" href="#경계-살피고-익히기" title="Direct link to heading">#</a></h2><p>외부 코드를 사용하면 적은 시간에 더 많은 기능을 출시하기 쉬워진다.
하지만 외부에서 가져온 패키지를 사용한다면 사용할 코드를 테스트하는 편이 좋다.
우리쪽 코드를 작성해 외부 코드를 호출하는 대신 간단한 테스트 케이스를 작성해 외부 코드를 익히는 것을 <strong>&#x27;학습 테스트&#x27;</strong>라 부른다.</p><p>학습 테스트는 프로그램에서 사용하려는 방식대로 외부 API를 호출한다.
학습 테스트는 API를 사용하려는 목적에 초점을 맞춘다.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="학습-테스트는-공짜-이상이다"></a>학습 테스트는 공짜 이상이다.<a class="hash-link" href="#학습-테스트는-공짜-이상이다" title="Direct link to heading">#</a></h2><p>학습 테스트는 이해도를 높여주는 정확한 실헙이다. 투자하는 노력보다 얻는 성과가 더 크다.
학습 테스트는 패키지가 예상대로 도는지 검증한다. 새 버전이 우리 코드와 호환되지 않으면 학습 테스트가 이를 밝혀낸다.
따라서 이런 경계 테스트가 있다면 새 버전의 패키지를 사용하기 쉬워진다.
그렇지 않다면 낡은 버전을 오래 사용하는 유혹에 빠지게 될 것이다.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="깨끗한-경계"></a>깨끗한 경계<a class="hash-link" href="#깨끗한-경계" title="Direct link to heading">#</a></h2><p>소프트웨어 경계에서는 많은 일들이 발생한다. <strong>변경</strong>이 대표적인 예다.
스프트웨어 설계가 우수하다면 변경하는 데 많은 투자와 재작업이 필요하지 않다.
통제하지 못하는 코드를 사용할 경우에는 향후 변경 비용이 커지지 않도록 주의한다.</p><p>경계에 위치하는 코드는 깔끔히 분리한다. 또한 테스트 케이스도 작성한다.
통제 불가능한 외부 패키지에 의존하는 대신 통제가 가능한 우리 코드에 의존하는 편이 훨씬 좋다.
외부 패키지를 호출하는 코드를 가능한 줄여 경계를 관리하자.
<code>Map</code>에서 봤듯이, 새로운 클래스로 경계를 감싸거나 아니면 ADAPTER 패턴을 사용하여
우리가 원하는 인터페이스를 패키지가 제공하는 인터페이스로 변환하자.
어떤 방법이든 코드 가독성이 높아지며, 경계 인터페이스를 사용하는 일관성도 높아지며,
외부 패키지가 변했을 때 변경할 코드도 줄어든다.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.dev/scope-team/clean-code/blob/main/docs/chapter_8.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/clean-code/docs/chapter_7"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« 7장 오류 처리</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/clean-code/docs/chapter_9"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">9장 단위 테스트 »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#외부-코드-사용하기" class="table-of-contents__link">외부 코드 사용하기</a></li><li><a href="#경계-살피고-익히기" class="table-of-contents__link">경계 살피고 익히기</a></li><li><a href="#학습-테스트는-공짜-이상이다" class="table-of-contents__link">학습 테스트는 공짜 이상이다.</a></li><li><a href="#깨끗한-경계" class="table-of-contents__link">깨끗한 경계</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/clean-code/docs/chapter_1">CleanCode</a></li><li class="footer__item"><a class="footer__link-item" href="/clean-code/blog/member">Member</a></li><li class="footer__item"><a href="https://github.com/scope-team/clean-code" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 Scope, Built with Docusaurus.</div></div></div></footer></div>
<script src="/clean-code/assets/js/runtime~main.fb70392d.js"></script>
<script src="/clean-code/assets/js/main.a23e5f92.js"></script>
</body>
</html>